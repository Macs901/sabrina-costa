openapi: 3.0.0
info:
  title: Dashboard Sabrina Costa API
  version: 1.0.0
  description: |
        
            API RESTful completa para o Dashboard Sabrina Costa.
            
            ## Funcionalidades
            
            - üîê **Autentica√ß√£o JWT** - Sistema seguro de login
            - üìä **Gest√£o de M√©tricas** - CRUD completo de m√©tricas do Instagram
            - üìÖ **Cronograma de Posts** - Agendamento e gest√£o de conte√∫do
            - üö® **Sistema de Alertas** - Notifica√ß√µes autom√°ticas via WhatsApp
            - üé£ **Ganchos Virais** - Biblioteca de hooks para conte√∫do
            - üîó **Webhooks** - Integra√ß√£o com sistemas externos
            - ‚öôÔ∏è **Configura√ß√µes** - Gest√£o de par√¢metros do sistema
            
            ## Autentica√ß√£o
            
            Todos os endpoints protegidos exigem um JWT v√°lido no header `Authorization`:
            ```
            Authorization: Bearer <seu-jwt-token>
            ```
            
            ## Rate Limiting
            
            A API implementa rate limiting para garantir estabilidade:
            - **100 requests/minuto** por IP
            - **1000 requests/hora** por usu√°rio autenticado
            
            ## C√≥digos de Resposta
            
            - `200 OK` - Requisi√ß√£o bem-sucedida
            - `201 Created` - Recurso criado com sucesso
            - `400 Bad Request` - Dados inv√°lidos
            - `401 Unauthorized` - Token ausente/inv√°lido
            - `403 Forbidden` - Acesso negado
            - `404 Not Found` - Recurso n√£o encontrado
            - `429 Too Many Requests` - Rate limit excedido
            - `500 Internal Server Error` - Erro interno
          
servers:
  - url: https://backend-smoky-theta.vercel.app/api
    description: Servidor de Produ√ß√£o
  - url: http://localhost:3000/api
    description: Servidor de Desenvolvimento
tags:
  - name: Autentica√ß√£o
    description: Endpoints para autentica√ß√£o e gest√£o de usu√°rios
  - name: M√©tricas
    description: Gest√£o de m√©tricas de desempenho do Instagram
  - name: Cronograma
    description: Agendamento e gest√£o de posts
  - name: Alertas
    description: Sistema de notifica√ß√µes e alertas
  - name: Ganchos
    description: Biblioteca de ganchos virais e categorias
  - name: Webhooks
    description: Endpoints para integra√ß√£o externa
  - name: Configura√ß√µes
    description: Gest√£o de configura√ß√µes do sistema
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    User:
      type: object
      properties:
        id:
          type: string
          description: ID √∫nico do usu√°rio
          format: uuid
        email:
          type: string
          description: Email do usu√°rio
          format: email
        name:
          type: string
          description: Nome do usu√°rio
        role:
          type: string
          description: Papel do usu√°rio no sistema
          enum: [user, admin]
        createdAt:
          type: string
          description: Data de cria√ß√£o
          format: date-time
        updatedAt:
          type: string
          description: Data da √∫ltima atualiza√ß√£o
          format: date-time
      required: [id, email, name, role]
    Metric:
      type: object
      properties:
        id:
          type: string
          description: ID √∫nico da m√©trica
          format: uuid
        date:
          type: string
          description: Data da m√©trica (YYYY-MM-DD)
          format: date
        reach:
          type: integer
          description: Alcance (n√∫mero de pessoas)
          minimum: 0
        ctr:
          type: number
          description: Taxa de cliques (%)
          format: float
          minimum: 0
          maximum: 100
        cpc:
          type: number
          description: Custo por clique (R$)
          format: float
          minimum: 0
        cpm:
          type: number
          description: Custo por mil impress√µes (R$)
          format: float
          minimum: 0
        frequency:
          type: number
          description: Frequ√™ncia de exibi√ß√£o
          format: float
          minimum: 0
        profileVisits:
          type: integer
          description: Visitas ao perfil
          minimum: 0
        newFollowers:
          type: integer
          description: Novos seguidores
          minimum: 0
        cost:
          type: number
          description: Custo total (R$)
          format: float
          minimum: 0
        createdAt:
          type: string
          description: Data de cria√ß√£o
          format: date-time
        updatedAt:
          type: string
          description: Data da √∫ltima atualiza√ß√£o
          format: date-time
      required: [date]
    Post:
      type: object
      properties:
        id:
          type: string
          description: ID √∫nico do post
          format: uuid
        date:
          type: string
          description: Data agendada para o post
          format: date
        weekNumber:
          type: integer
          description: N√∫mero da semana
          minimum: 1
          maximum: 52
        format:
          type: string
          description: Formato do conte√∫do
          enum: [carousel, reel, story, post]
        theme:
          type: string
          description: Tema do post
        hook:
          type: string
          description: Gancho viral do post
        cta:
          type: string
          description: Call-to-action
        status:
          type: string
          description: Status do post
          enum: [planned, published, cancelled]
        createdAt:
          type: string
          description: Data de cria√ß√£o
          format: date-time
        updatedAt:
          type: string
          description: Data da √∫ltima atualiza√ß√£o
          format: date-time
      required: [date, format, theme]
    Alert:
      type: object
      properties:
        id:
          type: string
          description: ID √∫nico do alerta
          format: uuid
        type:
          type: string
          description: Tipo do alerta
        message:
          type: string
          description: Mensagem do alerta
        thresholdValue:
          type: number
          description: Valor limite
          format: float
        actualValue:
          type: number
          description: Valor atual
          format: float
        date:
          type: string
          description: Data do alerta
          format: date
        sentAt:
          type: string
          description: Data de envio
          format: date-time
        createdAt:
          type: string
          description: Data de cria√ß√£o
          format: date-time
      required: [type, message, date]
    Hook:
      type: object
      properties:
        id:
          type: string
          description: ID √∫nico do gancho
          format: uuid
        title:
          type: string
          description: T√≠tulo do gancho
        content:
          type: string
          description: Conte√∫do do gancho
        category:
          type: string
          description: Categoria do gancho
        usageCount:
          type: integer
          description: N√∫mero de usos
          minimum: 0
        createdAt:
          type: string
          description: Data de cria√ß√£o
          format: date-time
        updatedAt:
          type: string
          description: Data da √∫ltima atualiza√ß√£o
          format: date-time
      required: [title, content, category]
    Error:
      type: object
      properties:
        message:
          type: string
          description: Mensagem de erro
        code:
          type: string
          description: C√≥digo do erro
        details:
          type: object
          description: Detalhes adicionais do erro
      required: [message]
    Success:
      type: object
      properties:
        message:
          type: string
          description: Mensagem de sucesso
        data:
          type: object
          description: Dados retornados
      required: [message]
paths:
  {}
